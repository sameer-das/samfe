<div class="container">
  <button mat-button color="primary" (click)="showNewScheduleForm()">
    Create Schedule
  </button>
</div>
<br />
<div *ngIf="bShowNewScheduleForm" class="container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        New Schedule
        <button
          type="button"
          id="close-button"
          aria-label="Close"
          color="accent"
          title="Close"
          mat-icon-button
          (click)="hideNewScheduleForm()"
        >
          <mat-icon>close</mat-icon>
        </button>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="newSchedule">
        <div class="row">
          <mat-form-field class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <mat-label>Date</mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              readonly
              required
              formControlName="date"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <mat-label>Batch</mat-label>
            <mat-select required formControlName="batch">
              <mat-option value="A+">A+</mat-option>
              <mat-option value="A-">A-</mat-option>
              <mat-option value="B+">B+</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <mat-label>Subject</mat-label>
            <mat-select required formControlName="subject">
              <mat-option value="A+">A+</mat-option>
              <mat-option value="A-">A-</mat-option>
              <mat-option value="B+">B+</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="row">
          <mat-form-field class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <mat-label>Facualty Name</mat-label>
            <input
              type="text"
              matInput
              required
              formControlName="fac_staff_name"
            />
            <mat-icon id="search-button" matSuffix (click)="onSearchStaff()"
              >search</mat-icon
            >
          </mat-form-field>
          <mat-form-field class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <mat-label>Room</mat-label>
            <mat-select required formControlName="room">
              <mat-option value="A+">A+</mat-option>
              <mat-option value="A-">A-</mat-option>
              <mat-option value="B+">B+</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="col-lg-2 col-md-2 col-sm-6 col-xs-6">
            <mat-label>Start Time</mat-label>
            <input type="time" matInput required formControlName="start_time" />
          </mat-form-field>
          <mat-form-field class="col-lg-2 col-md-2 col-sm-6 col-xs-6">
            <mat-label>End Time</mat-label>
            <input type="time" matInput required formControlName="end_time" />
          </mat-form-field>
        </div>
      </form>
    </mat-card-content>
    <mat-card-actions align="end">
      <button
        class="action-button"
        mat-flat-button
        color="accent"
        (click)="(return)"
      >
        Clear
      </button>
      <button
        class="action-button"
        mat-flat-button
        color="primary"
        (click)="saveSchedule()"
      >
        Schedule
      </button>
    </mat-card-actions>
  </mat-card>
  <br />
</div>

<div *ngIf="bShowCalendar" class="container">
  <mat-card>
    <mat-card-content>
      <div class="month">
        <ul>
          <li
            class="prev"
            matTooltip="Previous Month"
            matRipple
            matTooltipPosition="right"
            (click)="onMonthMinus()"
          >
            &#10094;
          </li>
          <li
            class="next"
            matTooltip="Next Month"
            matRipple
            matTooltipPosition="left"
            (click)="onMonthPlus()"
          >
            &#10095;
          </li>
          <li>
            {{ showingMonth }},
            <span style="font-size: 16px;">{{ showingYear }}</span>
          </li>
        </ul>
      </div>
      <ul class="weekdays">
        <li>Mo</li>
        <li>Tu</li>
        <li>We</li>
        <li>Th</li>
        <li>Fr</li>
        <li>Sa</li>
        <li>Su</li>
      </ul>
      <ul class="days">
        <li
          [ngClass]="{ active: day === currentDay, deactive: day === null }"
          matRipple
          *ngFor="let day of days"
          (click)="onDayClick(day)"
        >
          {{ day }}
        </li>
      </ul>
    </mat-card-content>
  </mat-card>
  <br />
</div>
